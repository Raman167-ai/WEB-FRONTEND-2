<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="Jquery.js"></script>
<style>
  
        .box,.box2,.box1,.box3{
            width: 200px;
            height: 200px;
            background-color: green;
            margin: 20px;
            float: left;
        }

</style>
</head>

<body>
  

    <label for="username">Username:</label>
    <input type="text" id="username">
    <label for="password">Password:</label>
    <input type="password" id="password">
    <label for="email">Email:</label>
    <input type="email" id="email">
    <label for="fullname">Fullname:</label>
    <input type="text" id="fullname">
    <label for="role">Role:</label>
    <input type="text" id="role">
    <label for="status">Status:</label>
    <input type="text" id="status">

   <input type="button" value="Click" class="btn">
   <div class="box">

   </div>
   <div class="box">

   </div>
   <div class="box">

   </div>



<script>
$(function(){
    var btn=$('.btn');
    btn.click(function(){
        $('.box').css('background-color','red');
        $('.box').hide();
        $('.box').fadeOut();
    })
})

    $(function(){
        var btn= $('.btn');
        var box1= $('.box1');
        var username = $('#username');
        var password = $('#password');
        var email = $('#email');
        var fullname = $('#fullname');
        var role = $('#role');
        var status = $('#status');

        btn.click(function(){
        var object = {
            username: username.val(),
            password: password.val(),
            email: email.val(),
            fullname: fullname.val(),
            role: role.val(),
            status: status.val()

        }
          GetData(object)
        })


    })


    function GetData(obj){
        $.ajax({
            url: "http://localhost:3000/api/user",    // path ទៅ server
            method: "POST", 
            contentType: "application/json",
            data: JSON.stringify({
                username: obj.username,
                password: obj.password,
                email: obj.email,
                fullname: obj.fullname,
                role: obj.role,
                status: obj.status
            }),
            success: function(response) {
                alert(response.message)

            },
            error: function() {
                console.log("មានបញ្ហាក្នុងការទាញទិន្នន័យ");
            }
        });
    }

</script>
</body></html>